import swaggerJsdoc from 'swagger-jsdoc';\n\nconst options = {\n  definition: {\n    openapi: '3.0.0',\n    info: {\n      title: 'comunyCAR API',\n      description: 'API completa do sistema comunyCAR - Alertas de Veículos em Tempo Real',\n      version: '1.0.0',\n      contact: {\n        name: 'comunyCAR Support',\n        email: 'support@comunycar.com',\n        url: 'https://comunycar.com',\n      },\n      license: {\n        name: 'MIT',\n        url: 'https://opensource.org/licenses/MIT',\n      },\n    },\n    servers: [\n      {\n        url: 'http://localhost:3000/api/v1',\n        description: 'Servidor de Desenvolvimento',\n      },\n      {\n        url: 'https://api.comunycar.com/api/v1',\n        description: 'Servidor de Produção',\n      },\n    ],\n    components: {\n      securitySchemes: {\n        bearerAuth: {\n          type: 'http',\n          scheme: 'bearer',\n          bearerFormat: 'JWT',\n          description: 'Token JWT para autenticação',\n        },\n        cookieAuth: {\n          type: 'apiKey',\n          in: 'cookie',\n          name: 'session',\n          description: 'Cookie de sessão',\n        },\n      },\n      schemas: {\n        User: {\n          type: 'object',\n          properties: {\n            id: {\n              type: 'integer',\n              description: 'ID único do usuário',\n              example: 1,\n            },\n            email: {\n              type: 'string',\n              format: 'email',\n              description: 'Email do usuário',\n              example: 'joao@example.com',\n            },\n            name: {\n              type: 'string',\n              description: 'Nome completo do usuário',\n              example: 'João Silva',\n            },\n            phone: {\n              type: 'string',\n              description: 'Telefone do usuário',\n              example: '(11) 98765-4321',\n            },\n            cnpj: {\n              type: 'string',\n              description: 'CNPJ do usuário (se aplicável)',\n              example: '12.345.678/0001-90',\n            },\n            role: {\n              type: 'string',\n              enum: ['user', 'admin'],\n              description: 'Papel do usuário',\n              example: 'user',\n            },\n            createdAt: {\n              type: 'string',\n              format: 'date-time',\n              description: 'Data de criação',\n            },\n            updatedAt: {\n              type: 'string',\n              format: 'date-time',\n              description: 'Data de última atualização',\n            },\n          },\n          required: ['id', 'email', 'name', 'role'],\n        },\n        Vehicle: {\n          type: 'object',\n          properties: {\n            id: {\n              type: 'integer',\n              description: 'ID único do veículo',\n              example: 1,\n            },\n            plate: {\n              type: 'string',\n              description: 'Placa do veículo (formato brasileiro)',\n              example: 'ABC-1234',\n            },\n            brand: {\n              type: 'string',\n              description: 'Marca do veículo',\n              example: 'Toyota',\n            },\n            model: {\n              type: 'string',\n              description: 'Modelo do veículo',\n              example: 'Corolla',\n            },\n            color: {\n              type: 'string',\n              description: 'Cor do veículo',\n              example: 'Branco',\n            },\n            year: {\n              type: 'integer',\n              description: 'Ano de fabricação',\n              example: 2022,\n            },\n            ownerId: {\n              type: 'integer',\n              description: 'ID do proprietário',\n              example: 1,\n            },\n            createdAt: {\n              type: 'string',\n              format: 'date-time',\n            },\n          },\n          required: ['id', 'plate', 'brand', 'model', 'ownerId'],\n        },\n        Alert: {\n          type: 'object',\n          properties: {\n            id: {\n              type: 'integer',\n              description: 'ID único do alerta',\n              example: 1,\n            },\n            vehicleId: {\n              type: 'integer',\n              description: 'ID do veículo',\n              example: 1,\n            },\n            senderId: {\n              type: 'integer',\n              description: 'ID do remetente (quem enviou o alerta)',\n              example: 2,\n            },\n            type: {\n              type: 'string',\n              enum: ['fixed', 'custom'],\n              description: 'Tipo de alerta',\n              example: 'fixed',\n            },\n            alertTypeId: {\n              type: 'integer',\n              description: 'ID do tipo de alerta fixo (se type=fixed)',\n              example: 1,\n            },\n            message: {\n              type: 'string',\n              description: 'Mensagem do alerta',\n              example: 'Seu farol está aceso',\n            },\n            status: {\n              type: 'string',\n              enum: ['sent', 'delivered', 'read', 'failed'],\n              description: 'Status do alerta',\n              example: 'delivered',\n            },\n            createdAt: {\n              type: 'string',\n              format: 'date-time',\n            },\n          },\n          required: ['id', 'vehicleId', 'senderId', 'type', 'message'],\n        },\n        Message: {\n          type: 'object',\n          properties: {\n            id: {\n              type: 'integer',\n              description: 'ID único da mensagem',\n              example: 1,\n            },\n            senderId: {\n              type: 'integer',\n              description: 'ID do remetente',\n              example: 1,\n            },\n            vehicleId: {\n              type: 'integer',\n              description: 'ID do veículo',\n              example: 1,\n            },\n            message: {\n              type: 'string',\n              description: 'Conteúdo da mensagem',\n              example: 'Seu farol está aceso',\n            },\n            type: {\n              type: 'string',\n              enum: ['fixed', 'custom'],\n              description: 'Tipo de mensagem',\n              example: 'fixed',\n            },\n            createdAt: {\n              type: 'string',\n              format: 'date-time',\n            },\n          },\n          required: ['id', 'senderId', 'vehicleId', 'message', 'type'],\n        },\n        Credit: {\n          type: 'object',\n          properties: {\n            userId: {\n              type: 'integer',\n              description: 'ID do usuário',\n              example: 1,\n            },\n            balance: {\n              type: 'number',\n              description: 'Saldo de créditos',\n              example: 100.50,\n            },\n            updatedAt: {\n              type: 'string',\n              format: 'date-time',\n            },\n          },\n          required: ['userId', 'balance'],\n        },\n        ErrorResponse: {\n          type: 'object',\n          properties: {\n            code: {\n              type: 'string',\n              description: 'Código de erro',\n              example: 'INVALID_REQUEST',\n            },\n            message: {\n              type: 'string',\n              description: 'Mensagem de erro',\n              example: 'Email é obrigatório',\n            },\n            details: {\n              type: 'object',\n              description: 'Detalhes adicionais do erro',\n            },\n          },\n          required: ['code', 'message'],\n        },\n      },\n    },\n    security: [\n      {\n        bearerAuth: [],\n      },\n      {\n        cookieAuth: [],\n      },\n    ],\n  },\n  apis: ['./server/routers/*.ts', './server/websocket/websocket.server.ts'],\n};\n\nconst swaggerSpec = swaggerJsdoc(options);\n\nexport default swaggerSpec;\n
